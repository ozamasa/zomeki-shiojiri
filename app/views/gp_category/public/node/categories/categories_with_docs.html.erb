<div class="contentGpCategoryCategory">
  <%- unless @docs.empty? -%>
  <section class="category<%= @category.name.try(:camelize) %>">
    <div class="docs">
      <ul>
        <%- @docs.each do |doc| -%>
        <li><%= render 'gp_category/public/shared/doc', doc: doc, doc_style: @content.category_doc_style, date_style: @content.date_style %></li>
        <%- end -%>
      </ul>
    </div>
  </section>
  <%- end -%>

  <%- @category.public_children.each do |child| -%>
  <section class="category<%= child.name.try(:camelize) %> classification">
    <h2><%= link_to child.title, child.public_uri %></h2>
    <%- unless child.public_docs.empty? -%>
    <div class="docs">
      <ul>
        <%- child.public_docs.limit(@content.category_docs_number).each do |doc| -%>
        <li><%= render 'gp_category/public/shared/doc', doc: doc, doc_style: @content.category_doc_style, date_style: @content.date_style %></li>
        <%- end -%>
      </ul>
    </div>
    <%- end -%>
    <%- if child.public_docs.count > @content.category_docs_number -%>
    <div class="more">
      <%= link_to '一覧へ', child.public_uri %>
    </div>
    <%- end -%>
  </section>
  <%- end -%>

  <%= paginate @docs %>
</div>
